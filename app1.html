<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام إدارة الاستثمار - النسخة المحسنة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;800;900&display=swap');
        
        :root {
            /* Main Colors */
            --primary-color: #7267EF;
            --primary-light: #9D96F5;
            --primary-dark: #5549DD;
            --secondary-color: #4CC9F0;
            --secondary-light: #67D4F5;
            --secondary-dark: #36B7DE;
            
            /* Accent Colors */
            --success-color: #2ECC71;
            --info-color: #48DBFB;
            --warning-color: #FFC107;
            --danger-color: #FF6B6B;
            --purple-color: #9C27B0;
            --pink-color: #E83E8C;
            --orange-color: #FF9800;
            --teal-color: #00CEC9;
            
            /* Neutral Colors */
            --background-color: #F8F9FA;
            --card-bg: #FFFFFF;
            --sidebar-bg: #2D3748;
            --sidebar-hover: #1A202C;
            --sidebar-active: #7267EF;
            --sidebar-text: #CBD5E0;
            --sidebar-active-text: #FFFFFF;
            --text-dark: #1A202C;
            --text-muted: #718096;
            --border-color: #E2E8F0;
            
            /* Font sizes */
            --font-xs: 0.75rem;
            --font-sm: 0.875rem;
            --font-md: 1rem;
            --font-lg: 1.125rem;
            --font-xl: 1.25rem;
            --font-2xl: 1.5rem;
            --font-3xl: 1.875rem;
            --font-4xl: 2.25rem;
            
            /* Spacing */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            
            /* Border Radius */
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-full: 9999px;
            
            /* Box Shadow */
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1), 0 10px 10px rgba(0, 0, 0, 0.04);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-dark);
            min-height: 100vh;
            direction: rtl;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar styles */
        .sidebar {
            width: 280px;
            background: linear-gradient(135deg, var(--sidebar-bg), var(--sidebar-hover));
            color: var(--sidebar-text);
            transition: all 0.3s ease;
            position: fixed;
            height: 100vh;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) var(--sidebar-bg);
        }

        .sidebar::-webkit-scrollbar {
            width: 5px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: var(--sidebar-bg);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background-color: var(--primary-light);
            border-radius: var(--radius-full);
        }

        .sidebar-header {
            padding: var(--spacing-lg);
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.1);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            color: white;
            font-size: var(--font-xl);
            font-weight: 800;
        }

        .sidebar-logo i {
            font-size: var(--font-2xl);
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .sidebar-menu {
            padding: var(--spacing-md) 0;
        }

        .menu-header {
            padding: var(--spacing-sm) var(--spacing-lg);
            font-size: var(--font-xs);
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--sidebar-text);
            opacity: 0.7;
            margin-top: var(--spacing-md);
        }

        .menu-item {
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            border-right: 3px solid transparent;
            position: relative;
            margin: var(--spacing-xs) 0;
        }

        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--sidebar-active-text);
            border-right-color: var(--primary-light);
        }

        .menu-item.active {
            background-color: var(--sidebar-active);
            color: var(--sidebar-active-text);
            border-right-color: var(--secondary-color);
            border-radius: var(--radius-md) 0 0 var(--radius-md);
            box-shadow: var(--shadow-md);
        }

        .menu-item i {
            margin-left: var(--spacing-md);
            font-size: var(--font-lg);
            min-width: 24px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .menu-item:hover i {
            transform: translateX(-3px);
        }

        .menu-item.active i {
            color: var(--sidebar-active-text);
        }

        .menu-badge {
            position: absolute;
            left: var(--spacing-lg);
            background-color: var(--danger-color);
            color: white;
            font-size: var(--font-xs);
            font-weight: bold;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-full);
            min-width: 20px;
            text-align: center;
        }

        /* Main content styles */
        .main-content {
            flex: 1;
            margin-right: 280px;
            padding: var(--spacing-lg);
            transition: all 0.3s ease;
            max-width: calc(100% - 280px);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-xl);
            background-color: var(--card-bg);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to left, var(--primary-color), var(--secondary-color));
        }

        .page-title {
            font-size: var(--font-2xl);
            font-weight: 700;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            background-color: var(--background-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .user-info:hover {
            background-color: var(--primary-light);
            color: white;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: linear-gradient(45deg, var(--purple-color), var(--pink-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: var(--font-md);
        }

        .user-name {
            font-weight: 600;
        }

        .notification-btn {
            position: relative;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background-color: var(--background-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .notification-btn:hover {
            background-color: var(--primary-light);
            color: white;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            left: -5px;
            background-color: var(--danger-color);
            color: white;
            font-size: var(--font-xs);
            font-weight: bold;
            width: 20px;
            height: 20px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Dashboard styles */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .stat-card {
            background-color: var(--card-bg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            padding: var(--spacing-lg);
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to left, var(--primary-color), var(--secondary-color));
            opacity: 0;
            transition: all 0.3s ease;
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-lg);
            font-size: var(--font-2xl);
            margin-left: var(--spacing-lg);
            background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
            color: white;
            box-shadow: var(--shadow-md);
        }

        .stat-details {
            flex: 1;
        }

        .stat-value {
            font-size: var(--font-2xl);
            font-weight: 700;
            margin-bottom: var(--spacing-xs);
            background: linear-gradient(45deg, var(--primary-dark), var(--primary-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: var(--font-sm);
            font-weight: 500;
        }

        .stat-change {
            font-size: var(--font-sm);
            font-weight: 600;
            display: flex;
            align-items: center;
            margin-top: var(--spacing-xs);
        }

        .stat-change.positive {
            color: var(--success-color);
        }

        .stat-change.negative {
            color: var(--danger-color);
        }

        /* Card styles */
        .card {
            background-color: var(--card-bg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card-gradient-border {
            position: relative;
        }

        .card-gradient-border::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(to left, var(--primary-color), var(--secondary-color));
        }

        .card-header {
            margin-bottom: var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-title {
            font-size: var(--font-xl);
            font-weight: 700;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .card-title i {
            color: var(--primary-color);
        }

        .card-header-tabs {
            display: flex;
            gap: var(--spacing-sm);
        }

        .card-tab {
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-full);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            background-color: var(--background-color);
        }

        .card-tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Table styles */
        .table-responsive {
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead th {
            background-color: rgba(114, 103, 239, 0.05);
            font-weight: 600;
            text-align: right;
            padding: var(--spacing-md);
            border-bottom: 2px solid var(--primary-light);
            color: var(--primary-dark);
        }

        th, td {
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--border-color);
        }

        tbody tr {
            transition: all 0.3s ease;
        }

        tbody tr:hover {
            background-color: rgba(114, 103, 239, 0.05);
        }

        .status-pill {
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            font-weight: 600;
            display: inline-block;
        }

        .status-deposit {
            background-color: rgba(46, 204, 113, 0.15);
            color: var(--success-color);
        }

        .status-withdrawal {
            background-color: rgba(255, 107, 107, 0.15);
            color: var(--danger-color);
        }

        .status-profit {
            background-color: rgba(255, 193, 7, 0.15);
            color: var(--warning-color);
        }

        .action-buttons {
            display: flex;
            gap: var(--spacing-sm);
        }

        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .view-btn {
            background-color: var(--info-color);
        }

        .edit-btn {
            background-color: var(--warning-color);
        }

        .delete-btn {
            background-color: var(--danger-color);
        }

        /* Form styles */
        .form-group {
            margin-bottom: var(--spacing-lg);
        }

        label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: 500;
            color: var(--text-dark);
        }

        .form-control {
            width: 100%;
            padding: var(--spacing-md);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: var(--font-md);
            transition: all 0.3s ease;
            background-color: white;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(114, 103, 239, 0.25);
        }

        .input-group {
            position: relative;
        }

        .input-icon {
            position: absolute;
            top: 50%;
            right: var(--spacing-md);
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        .input-icon-right .form-control {
            padding-right: 2.5rem;
        }

        .input-icon-left .form-control {
            padding-left: 2.5rem;
        }

        .input-icon-left .input-icon {
            right: auto;
            left: var(--spacing-md);
        }

        .input-message {
            font-size: var(--font-sm);
            margin-top: var(--spacing-xs);
        }

        .input-message.error {
            color: var(--danger-color);
        }

        .input-message.success {
            color: var(--success-color);
        }

        /* Button styles */
        .btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: var(--font-md);
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            box-shadow: var(--shadow-sm);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-dark), var(--primary-color));
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, var(--primary-color), var(--primary-light));
        }

        .btn-secondary {
            background: linear-gradient(45deg, var(--secondary-dark), var(--secondary-color));
            color: white;
        }

        .btn-secondary:hover {
            background: linear-gradient(45deg, var(--secondary-color), var(--secondary-light));
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #27ae60;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #e74c3c;
        }

        .btn-warning {
            background-color: var(--warning-color);
            color: #fff;
        }

        .btn-warning:hover {
            background-color: #f39c12;
        }

        .btn-info {
            background-color: var(--info-color);
            color: white;
        }

        .btn-info:hover {
            background-color: #3498db;
        }

        .btn-round {
            border-radius: var(--radius-full);
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid currentColor;
        }

        .btn-outline-primary {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-outline-primary:hover {
            background-color: var(--primary-color);
            color: white;
        }

        /* Pages */
        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            overflow: auto;
        }

        .modal {
            display: none;
            position: relative;
            z-index: 2001;
        }

        .modal-content {
            background-color: white;
            margin: 50px auto;
            width: 90%;
            max-width: 800px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            position: relative;
            overflow: hidden;
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: var(--spacing-lg);
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            position: relative;
        }

        .modal-title {
            font-size: var(--font-xl);
            font-weight: 700;
        }

        .close-modal {
            position: absolute;
            top: var(--spacing-lg);
            left: var(--spacing-lg);
            font-size: var(--font-xl);
            cursor: pointer;
            color: white;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-full);
            background-color: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: var(--spacing-xl);
        }

        .modal-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-md);
        }

        /* Loader */
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            display: none;
        }

        .loader {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            position: relative;
            animation: rotate 1s linear infinite;
        }

        .loader::before {
            content: "";
            box-sizing: border-box;
            position: absolute;
            inset: 0px;
            border-radius: 50%;
            border: 5px solid var(--primary-color);
            animation: prixClipFix 2s linear infinite;
        }

        @keyframes rotate {
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes prixClipFix {
            0% {
                clip-path: polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0);
            }
            25% {
                clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0);
            }
            50% {
                clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%);
            }
            75% {
                clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%);
            }
            100% {
                clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0);
            }
        }

        /* Calendar */
        .calendar {
            background-color: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            overflow: hidden;
        }

        .calendar-header {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: var(--spacing-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .calendar-nav {
            display: flex;
            gap: var(--spacing-sm);
        }

        .calendar-nav-btn {
            width: 30px;
            height: 30px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background-color: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .calendar-nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        .calendar-title {
            font-weight: 600;
            font-size: var(--font-lg);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
        }

        .calendar-day-header {
            text-align: center;
            padding: var(--spacing-sm);
            font-weight: 600;
            background-color: rgba(114, 103, 239, 0.05);
            border-bottom: 1px solid var(--border-color);
        }

        .calendar-day {
            padding: var(--spacing-md);
            text-align: center;
            border: 1px solid var(--border-color);
            cursor: pointer;
            position: relative;
            height: 60px;
            transition: all 0.3s ease;
        }

        .calendar-day:hover {
            background-color: rgba(114, 103, 239, 0.05);
        }

        .calendar-day.today {
            background-color: rgba(114, 103, 239, 0.1);
            color: var(--primary-color);
            font-weight: 700;
        }

        .calendar-day.has-events::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            border-radius: var(--radius-full);
            background-color: var(--danger-color);
        }

        .calendar-day.other-month {
            color: var(--text-muted);
            background-color: rgba(0, 0, 0, 0.02);
        }

        /* Chart */
        .chart-container {
            position: relative;
            height: 300px;
            margin-top: var(--spacing-md);
        }

        /* Analytics */
        .analytics-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .analytics-item {
            background-color: white;
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-sm);
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .analytics-value {
            font-size: var(--font-xl);
            font-weight: 700;
            margin-bottom: var(--spacing-xs);
            color: var(--primary-color);
        }

        .analytics-label {
            font-size: var(--font-sm);
            color: var(--text-muted);
        }

        /* Progress bars */
        .progress-container {
            margin-bottom: var(--spacing-md);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--spacing-xs);
        }

        .progress-title {
            font-weight: 500;
        }

        .progress-value {
            font-weight: 600;
        }

        .progress-bar {
            height: 10px;
            background-color: #e9ecef;
            border-radius: var(--radius-full);
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: var(--radius-full);
            transition: width 0.5s ease;
        }

        .progress-primary .progress-fill {
            background: linear-gradient(to right, var(--primary-color), var(--primary-light));
        }

        .progress-success .progress-fill {
            background: linear-gradient(to right, var(--success-color), #6deca9);
        }

        .progress-warning .progress-fill {
            background: linear-gradient(to right, var(--warning-color), #ffd54f);
        }

        .progress-danger .progress-fill {
            background: linear-gradient(to right, var(--danger-color), #ff8f8f);
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-right: 30px;
            margin-top: var(--spacing-lg);
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            right: 10px;
            height: 100%;
            width: 2px;
            background-color: var(--primary-light);
        }

        .timeline-item {
            position: relative;
            margin-bottom: var(--spacing-lg);
        }

        .timeline-dot {
            position: absolute;
            right: -30px;
            top: 0;
            width: 20px;
            height: 20px;
            border-radius: var(--radius-full);
            background-color: var(--primary-color);
            border: 3px solid white;
            box-shadow: var(--shadow-sm);
        }

        .timeline-content {
            background-color: white;
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .timeline-title {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .timeline-date {
            font-size: var(--font-sm);
            color: var(--text-muted);
            margin-bottom: var(--spacing-sm);
        }

        /* Alerts */
        .alert {
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .alert-success {
            background-color: rgba(46, 204, 113, 0.15);
            color: var(--success-color);
            border-right: 3px solid var(--success-color);
        }

        .alert-danger {
            background-color: rgba(255, 107, 107, 0.15);
            color: var(--danger-color);
            border-right: 3px solid var(--danger-color);
        }

        .alert-warning {
            background-color: rgba(255, 193, 7, 0.15);
            color: var(--warning-color);
            border-right: 3px solid var(--warning-color);
        }

        .alert-info {
            background-color: rgba(72, 219, 251, 0.15);
            color: var(--info-color);
            border-right: 3px solid var(--info-color);
        }

        /* Notifications */
        .notifications-container {
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-item {
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-md);
            transition: all 0.3s ease;
        }

        .notification-item:hover {
            background-color: rgba(114, 103, 239, 0.05);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .notification-success {
            background-color: var(--success-color);
        }

        .notification-danger {
            background-color: var(--danger-color);
        }

        .notification-warning {
            background-color: var(--warning-color);
        }

        .notification-info {
            background-color: var(--info-color);
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .notification-message {
            font-size: var(--font-sm);
            color: var(--text-muted);
            margin-bottom: var(--spacing-xs);
        }

        .notification-time {
            font-size: var(--font-xs);
            color: var(--text-muted);
        }

        .notification-actions {
            display: flex;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-sm);
        }

        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                width: 80px;
                padding-top: var(--spacing-lg);
            }

            .sidebar-logo span {
                display: none;
            }

            .menu-header {
                display: none;
            }

            .menu-item span {
                display: none;
            }

            .menu-item i {
                margin: 0;
                font-size: var(--font-xl);
            }

            .menu-item {
                justify-content: center;
                padding: var(--spacing-md);
            }

            .main-content {
                margin-right: 80px;
                max-width: calc(100% - 80px);
            }

            .dashboard-stats {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .main-content {
                margin-right: 0;
                max-width: 100%;
                padding: var(--spacing-md);
            }

            .sidebar {
                transform: translateX(100%);
                box-shadow: none;
                z-index: 1001;
            }

            .sidebar.active {
                transform: translateX(0);
                box-shadow: var(--shadow-lg);
            }

            .mobile-toggle {
                display: block;
            }

            .header {
                margin-bottom: var(--spacing-lg);
                padding: var(--spacing-md);
            }

            .page-title {
                font-size: var(--font-xl);
            }

            .card {
                padding: var(--spacing-md);
            }

            .dashboard-stats {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
            }

            .modal-content {
                width: 95%;
                margin: 20px auto;
            }
        }
    </style>
</head>
<body>
    <!-- Loader -->
    <div class="loader-overlay">
        <div class="loader"></div>
    </div>

    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-chart-line"></i>
                    <span>نظام الاستثمار</span>
                </div>
            </div>
            <div class="sidebar-menu">
                <div class="menu-header">لوحة التحكم</div>
                <div class="menu-item active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>الرئيسية</span>
                </div>
                <div class="menu-item" data-page="investors">
                    <i class="fas fa-users"></i>
                    <span>المستثمرين</span>
                </div>
                <div class="menu-item" data-page="profits">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>الأرباح</span>
                </div>
                <div class="menu-item" data-page="operations">
                    <i class="fas fa-exchange-alt"></i>
                    <span>العمليات</span>
                </div>
                
                <div class="menu-header">التحليلات والتقارير</div>
                <div class="menu-item" data-page="analytics">
                    <i class="fas fa-chart-pie"></i>
                    <span>التحليلات</span>
                </div>
                <div class="menu-item" data-page="reports">
                    <i class="fas fa-file-alt"></i>
                    <span>التقارير</span>
                </div>
                <div class="menu-item" data-page="calendar">
                    <i class="fas fa-calendar-alt"></i>
                    <span>التقويم</span>
                </div>
                
                <div class="menu-header">الإدارة</div>
                <div class="menu-item" data-page="notifications">
                    <i class="fas fa-bell"></i>
                    <span>الإشعارات</span>
                    <div class="menu-badge">3</div>
                </div>
                <div class="menu-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>الإعدادات</span>
                </div>
                <div class="menu-item" data-page="backup">
                    <i class="fas fa-database"></i>
                    <span>النسخ الاحتياطي</span>
                </div>
                <div class="menu-item" data-page="help">
                    <i class="fas fa-question-circle"></i>
                    <span>المساعدة</span>
                </div>
                
                <div class="menu-header">الحساب</div>
                <div class="menu-item" data-page="profile">
                    <i class="fas fa-user"></i>
                    <span>الملف الشخصي</span>
                </div>
                <div class="menu-item" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>تسجيل الخروج</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <div class="page-title">
                    <i class="fas fa-tachometer-alt" style="color: var(--primary-color);"></i>
                    لوحة التحكم
                </div>
                <div class="header-actions">
                    <div class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <div class="notification-badge">3</div>
                    </div>
                    <div class="user-info">
                        <div class="user-details">
                            <div class="user-name">مدير النظام</div>
                        </div>
                        <div class="user-avatar">م</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div class="page active" id="dashboard">
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-details">
                            <div class="stat-value">15</div>
                            <div class="stat-label">إجمالي المستثمرين</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                20% منذ الشهر الماضي
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, var(--success-color), #6deca9);">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-details">
                            <div class="stat-value">5,000,000</div>
                            <div class="stat-label">إجمالي الاستثمارات (دينار)</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                15% منذ الشهر الماضي
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, var(--warning-color), #ffd54f);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-details">
                            <div class="stat-value">87,500</div>
                            <div class="stat-label">الأرباح الشهرية (دينار)</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                12% منذ الشهر الماضي
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, var(--info-color), #67d4f5);">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="stat-details">
                            <div class="stat-value">20</div>
                            <div class="stat-label">العمليات الشهرية</div>
                            <div class="stat-change negative">
                                <i class="fas fa-arrow-down"></i>
                                5% منذ الشهر الماضي
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-chart-bar"></i>
                            تحليل الاستثمارات
                        </div>
                        <div class="card-header-tabs">
                            <div class="card-tab active" data-chart="weekly">أسبوعي</div>
                            <div class="card-tab" data-chart="monthly">شهري</div>
                            <div class="card-tab" data-chart="yearly">سنوي</div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <img src="https://via.placeholder.com/800x300" alt="رسم بياني للاستثمارات" style="width:100%; height:100%; object-fit:cover; border-radius: var(--radius-md);">
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-exchange-alt"></i>
                            آخر العمليات
                        </div>
                        <button class="btn btn-outline-primary btn-round">
                            <i class="fas fa-print"></i>
                            طباعة
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>المستثمر</th>
                                    <th>نوع العملية</th>
                                    <th>المبلغ</th>
                                    <th>التاريخ</th>
                                    <th>الحالة</th>
                                    <th>إجراءات</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>أحمد محمد</td>
                                    <td><div class="status-pill status-deposit">إيداع</div></td>
                                    <td>1,000,000 دينار</td>
                                    <td>01/05/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>سارة علي</td>
                                    <td><div class="status-pill status-withdrawal">سحب</div></td>
                                    <td>500,000 دينار</td>
                                    <td>15/04/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>علي حسن</td>
                                    <td><div class="status-pill status-deposit">إيداع</div></td>
                                    <td>3,000,000 دينار</td>
                                    <td>10/04/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>محمد عبدالله</td>
                                    <td><div class="status-pill status-profit">أرباح</div></td>
                                    <td>175,000 دينار</td>
                                    <td>05/04/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Investors Page -->
            <div class="page" id="investors">
                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-users"></i>
                            إدارة المستثمرين
                        </div>
                        <div>
                            <button class="btn btn-primary btn-round" id="add-investor-btn">
                                <i class="fas fa-plus"></i>
                                إضافة مستثمر
                            </button>
                            <button class="btn btn-outline-primary btn-round">
                                <i class="fas fa-print"></i>
                                طباعة
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group input-icon-right">
                            <i class="fas fa-search input-icon"></i>
                            <input type="text" class="form-control" placeholder="بحث عن مستثمر..." id="investor-search">
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>الاسم</th>
                                    <th>رقم الهاتف</th>
                                    <th>العنوان</th>
                                    <th>رقم البطاقة</th>
                                    <th>إجمالي الاستثمار</th>
                                    <th>الربح الشهري</th>
                                    <th>إجراءات</th>
                                </tr>
                            </thead>
                            <tbody id="investors-table-body">
                                <tr>
                                    <td>أحمد محمد</td>
                                    <td>07701234567</td>
                                    <td>بغداد - الكرخ</td>
                                    <td>12345678</td>
                                    <td>1,000,000 دينار</td>
                                    <td>17,500 دينار</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>سارة علي</td>
                                    <td>07709876543</td>
                                    <td>بغداد - الرصافة</td>
                                    <td>87654321</td>
                                    <td>2,500,000 دينار</td>
                                    <td>43,750 دينار</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>علي حسن</td>
                                    <td>07702345678</td>
                                    <td>البصرة</td>
                                    <td>23456789</td>
                                    <td>3,000,000 دينار</td>
                                    <td>52,500 دينار</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>محمد عبدالله</td>
                                    <td>07703456789</td>
                                    <td>أربيل</td>
                                    <td>34567890</td>
                                    <td>10,000,000 دينار</td>
                                    <td>175,000 دينار</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Analytics Page -->
            <div class="page" id="analytics">
                <div class="analytics-summary">
                    <div class="analytics-item">
                        <div class="analytics-value">1.75%</div>
                        <div class="analytics-label">نسبة الربح الشهري</div>
                    </div>
                    <div class="analytics-item">
                        <div class="analytics-value">21%</div>
                        <div class="analytics-label">العائد السنوي</div>
                    </div>
                    <div class="analytics-item">
                        <div class="analytics-value">288,750</div>
                        <div class="analytics-label">إجمالي الأرباح الربع سنوية</div>
                    </div>
                    <div class="analytics-item">
                        <div class="analytics-value">85%</div>
                        <div class="analytics-label">نسبة النمو السنوي</div>
                    </div>
                </div>

                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-chart-line"></i>
                            نمو الاستثمارات
                        </div>
                        <div>
                            <button class="btn btn-outline-primary btn-round">
                                <i class="fas fa-download"></i>
                                تصدير البيانات
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <img src="https://via.placeholder.com/800x300" alt="رسم بياني لنمو الاستثمارات" style="width:100%; height:100%; object-fit:cover; border-radius: var(--radius-md);">
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-chart-pie"></i>
                            توزيع الاستثمارات
                        </div>
                    </div>
                    <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                        <div style="flex: 1; min-width: 300px;">
                            <div class="progress-container progress-primary">
                                <div class="progress-header">
                                    <div class="progress-title">مستثمرين كبار (فوق 5 مليون)</div>
                                    <div class="progress-value">45%</div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%;"></div>
                                </div>
                            </div>
                            <div class="progress-container progress-success">
                                <div class="progress-header">
                                    <div class="progress-title">مستثمرين متوسطين (1-5 مليون)</div>
                                    <div class="progress-value">30%</div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 30%;"></div>
                                </div>
                            </div>
                            <div class="progress-container progress-warning">
                                <div class="progress-header">
                                    <div class="progress-title">مستثمرين صغار (أقل من 1 مليون)</div>
                                    <div class="progress-value">25%</div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 25%;"></div>
                                </div>
                            </div>
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <img src="https://via.placeholder.com/400x200" alt="رسم بياني دائري" style="width:100%; height:auto; object-fit:cover; border-radius: var(--radius-md);">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-map-marker-alt"></i>
                            التوزيع الجغرافي للمستثمرين
                        </div>
                    </div>
                    <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                        <div style="flex: 1; min-width: 300px;">
                            <div class="progress-container progress-primary">
                                <div class="progress-header">
                                    <div class="progress-title">بغداد</div>
                                    <div class="progress-value">40%</div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 40%;"></div>
                                </div>
                            </div>
                            <div class="progress-container progress-success">
                                <div class="progress-header">
                                    <div class="progress-title">البصرة</div>
                                    <div class="progress-value">25%</div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 25%;"></div>
                                </div>
                            </div>
                            <div class="progress-container progress-warning">
                                <div class="progress-header">
                                    <div class="progress-title">أربيل</div>
                                    <div class="progress-value">20%</div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 20%;"></div>
                                </div>
                            </div>
                            <div class="progress-container progress-danger">
                                <div class="progress-header">
                                    <div class="progress-title">مناطق أخرى</div>
                                    <div class="progress-value">15%</div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 15%;"></div>
                                </div>
                            </div>
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <img src="https://via.placeholder.com/400x200" alt="خريطة التوزيع الجغرافي" style="width:100%; height:auto; object-fit:cover; border-radius: var(--radius-md);">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendar Page -->
            <div class="page" id="calendar">
                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-calendar-alt"></i>
                            تقويم الأحداث والدفعات
                        </div>
                        <div>
                            <button class="btn btn-primary btn-round">
                                <i class="fas fa-plus"></i>
                                إضافة حدث
                            </button>
                        </div>
                    </div>
                    <div class="calendar">
                        <div class="calendar-header">
                            <div class="calendar-nav">
                                <div class="calendar-nav-btn">
                                    <i class="fas fa-chevron-right"></i>
                                </div>
                            </div>
                            <div class="calendar-title">مايو 2025</div>
                            <div class="calendar-nav">
                                <div class="calendar-nav-btn">
                                    <i class="fas fa-chevron-left"></i>
                                </div>
                            </div>
                        </div>
                        <div class="calendar-grid">
                            <div class="calendar-day-header">الأحد</div>
                            <div class="calendar-day-header">الاثنين</div>
                            <div class="calendar-day-header">الثلاثاء</div>
                            <div class="calendar-day-header">الأربعاء</div>
                            <div class="calendar-day-header">الخميس</div>
                            <div class="calendar-day-header">الجمعة</div>
                            <div class="calendar-day-header">السبت</div>
                            
                            <div class="calendar-day other-month">28</div>
                            <div class="calendar-day other-month">29</div>
                            <div class="calendar-day other-month">30</div>
                            <div class="calendar-day">1</div>
                            <div class="calendar-day">2</div>
                            <div class="calendar-day">3</div>
                            <div class="calendar-day">4</div>
                            
                            <div class="calendar-day">5</div>
                            <div class="calendar-day today">6</div>
                            <div class="calendar-day">7</div>
                            <div class="calendar-day">8</div>
                            <div class="calendar-day has-events">9</div>
                            <div class="calendar-day">10</div>
                            <div class="calendar-day">11</div>
                            
                            <div class="calendar-day has-events">12</div>
                            <div class="calendar-day">13</div>
                            <div class="calendar-day">14</div>
                            <div class="calendar-day">15</div>
                            <div class="calendar-day">16</div>
                            <div class="calendar-day">17</div>
                            <div class="calendar-day">18</div>
                            
                            <div class="calendar-day">19</div>
                            <div class="calendar-day">20</div>
                            <div class="calendar-day has-events">21</div>
                            <div class="calendar-day">22</div>
                            <div class="calendar-day">23</div>
                            <div class="calendar-day">24</div>
                            <div class="calendar-day">25</div>
                            
                            <div class="calendar-day">26</div>
                            <div class="calendar-day">27</div>
                            <div class="calendar-day">28</div>
                            <div class="calendar-day has-events">29</div>
                            <div class="calendar-day">30</div>
                            <div class="calendar-day">31</div>
                            <div class="calendar-day other-month">1</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <div class="card-title" style="margin-bottom: 15px;">
                            <i class="fas fa-list"></i>
                            أحداث قادمة
                        </div>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-dot" style="background-color: var(--success-color);"></div>
                                <div class="timeline-content">
                                    <div class="timeline-title">توزيع أرباح شهرية</div>
                                    <div class="timeline-date">9 مايو 2025</div>
                                    <div>توزيع الأرباح الشهرية لجميع المستثمرين</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot" style="background-color: var(--warning-color);"></div>
                                <div class="timeline-content">
                                    <div class="timeline-title">اجتماع المستثمرين</div>
                                    <div class="timeline-date">12 مايو 2025</div>
                                    <div>اجتماع ربع سنوي مع كبار المستثمرين</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot" style="background-color: var(--info-color);"></div>
                                <div class="timeline-content">
                                    <div class="timeline-title">تحديث نسب الأرباح</div>
                                    <div class="timeline-date">21 مايو 2025</div>
                                    <div>مراجعة وتحديث نسب الأرباح الشهرية</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot" style="background-color: var(--primary-color);"></div>
                                <div class="timeline-content">
                                    <div class="timeline-title">إغلاق الحسابات الشهرية</div>
                                    <div class="timeline-date">29 مايو 2025</div>
                                    <div>إغلاق الحسابات وإعداد التقارير الشهرية</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notifications Page -->
            <div class="page" id="notifications">
                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-bell"></i>
                            الإشعارات
                        </div>
                        <div>
                            <button class="btn btn-primary btn-round">
                                <i class="fas fa-check-double"></i>
                                تحديد الكل كمقروء
                            </button>
                        </div>
                    </div>
                    <div class="notifications-container">
                        <div class="notification-item">
                            <div class="notification-icon notification-success">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">مستثمر جديد</div>
                                <div class="notification-message">تم إضافة مستثمر جديد: كريم جاسم</div>
                                <div class="notification-time">منذ 30 دقيقة</div>
                                <div class="notification-actions">
                                    <button class="btn btn-sm btn-outline-primary">عرض التفاصيل</button>
                                </div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-danger">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">عملية سحب كبيرة</div>
                                <div class="notification-message">محمد عبدالله قام بسحب مبلغ 2,000,000 دينار</div>
                                <div class="notification-time">منذ ساعتين</div>
                                <div class="notification-actions">
                                    <button class="btn btn-sm btn-outline-primary">عرض العملية</button>
                                </div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-warning">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">تذكير بتوزيع الأرباح</div>
                                <div class="notification-message">موعد توزيع الأرباح الشهرية بعد 3 أيام</div>
                                <div class="notification-time">منذ 5 ساعات</div>
                                <div class="notification-actions">
                                    <button class="btn btn-sm btn-outline-primary">عرض التقويم</button>
                                </div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-info">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">تحديث تقرير الأرباح</div>
                                <div class="notification-message">تم تحديث تقرير الأرباح للربع الأول من السنة</div>
                                <div class="notification-time">منذ يوم</div>
                                <div class="notification-actions">
                                    <button class="btn btn-sm btn-outline-primary">عرض التقرير</button>
                                </div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon notification-success">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">إكمال النسخ الاحتياطي</div>
                                <div class="notification-message">تم إكمال النسخ الاحتياطي للبيانات بنجاح</div>
                                <div class="notification-time">منذ يومين</div>
                                <div class="notification-actions">
                                    <button class="btn btn-sm btn-outline-primary">عرض التفاصيل</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-cog"></i>
                            إعدادات الإشعارات
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label>إشعارات المستثمرين الجدد</label>
                            <select class="form-control">
                                <option>تفعيل</option>
                                <option>تعطيل</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>إشعارات العمليات الكبيرة</label>
                            <select class="form-control">
                                <option>تفعيل</option>
                                <option>تعطيل</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>تذكيرات المواعيد</label>
                            <select class="form-control">
                                <option>تفعيل</option>
                                <option>تعطيل</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>تحديثات التقارير</label>
                            <select class="form-control">
                                <option>تفعيل</option>
                                <option>تعطيل</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            حفظ الإعدادات
                        </button>
                    </div>
                </div>
            </div>

            <!-- Profile Page -->
            <div class="page" id="profile">
                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-user"></i>
                            الملف الشخصي
                        </div>
                        <div>
                            <button class="btn btn-primary btn-round">
                                <i class="fas fa-edit"></i>
                                تعديل الملف
                            </button>
                        </div>
                    </div>
                    <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 20px;">
                        <div style="flex: 0 0 150px; text-align: center;">
                            <div style="width: 150px; height: 150px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); margin: 0 auto; display: flex; align-items: center; justify-content: center; color: white; font-size: 50px; font-weight: bold;">
                                م
                            </div>
                            <button class="btn btn-outline-primary" style="margin-top: 15px;">
                                <i class="fas fa-camera"></i>
                                تغيير الصورة
                            </button>
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                                <div class="form-group">
                                    <label>الاسم الكامل</label>
                                    <input type="text" class="form-control" value="مدير النظام" disabled>
                                </div>
                                <div class="form-group">
                                    <label>البريد الإلكتروني</label>
                                    <input type="email" class="form-control" value="admin@investment.com" disabled>
                                </div>
                                <div class="form-group">
                                    <label>رقم الهاتف</label>
                                    <input type="text" class="form-control" value="07701234567" disabled>
                                </div>
                                <div class="form-group">
                                    <label>المنصب</label>
                                    <input type="text" class="form-control" value="مدير النظام" disabled>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-title" style="margin-bottom: 15px; font-size: 1.2rem;">
                        <i class="fas fa-shield-alt"></i>
                        أمان الحساب
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label>كلمة المرور الحالية</label>
                            <input type="password" class="form-control" disabled value="********">
                        </div>
                        <div class="form-group">
                            <label>كلمة المرور الجديدة</label>
                            <input type="password" class="form-control" disabled>
                        </div>
                        <div class="form-group">
                            <label>تأكيد كلمة المرور</label>
                            <input type="password" class="form-control" disabled>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" disabled>
                            <i class="fas fa-key"></i>
                            تغيير كلمة المرور
                        </button>
                    </div>
                    
                    <div class="card-title" style="margin: 20px 0 15px; font-size: 1.2rem;">
                        <i class="fas fa-history"></i>
                        سجل الدخول
                    </div>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>الوقت</th>
                                    <th>التاريخ</th>
                                    <th>عنوان IP</th>
                                    <th>الجهاز</th>
                                    <th>المتصفح</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>09:15 صباحاً</td>
                                    <td>06/05/2025</td>
                                    <td>192.168.1.1</td>
                                    <td>Desktop - Windows</td>
                                    <td>Chrome 112</td>
                                </tr>
                                <tr>
                                    <td>03:45 مساءً</td>
                                    <td>05/05/2025</td>
                                    <td>192.168.1.1</td>
                                    <td>Desktop - Windows</td>
                                    <td>Chrome 112</td>
                                </tr>
                                <tr>
                                    <td>11:30 صباحاً</td>
                                    <td>04/05/2025</td>
                                    <td>192.168.1.1</td>
                                    <td>Desktop - Windows</td>
                                    <td>Chrome 112</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Profits Page -->
            <div class="page" id="profits">
                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-money-bill-wave"></i>
                            الأرباح الشهرية
                        </div>
                        <div>
                            <button class="btn btn-success btn-round">
                                <i class="fas fa-plus"></i>
                                توزيع أرباح
                            </button>
                            <button class="btn btn-outline-primary btn-round">
                                <i class="fas fa-print"></i>
                                طباعة
                            </button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>المستثمر</th>
                                    <th>المبلغ المستثمر</th>
                                    <th>الربح الشهري</th>
                                    <th>تاريخ الاستثمار</th>
                                    <th>عدد الأيام</th>
                                    <th>آخر توزيع</th>
                                    <th>إجراءات</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>أحمد محمد</td>
                                    <td>1,000,000 دينار</td>
                                    <td>17,500 دينار</td>
                                    <td>01/04/2025</td>
                                    <td>36</td>
                                    <td>01/05/2025</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>سارة علي</td>
                                    <td>2,500,000 دينار</td>
                                    <td>43,750 دينار</td>
                                    <td>05/04/2025</td>
                                    <td>32</td>
                                    <td>01/05/2025</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>علي حسن</td>
                                    <td>3,000,000 دينار</td>
                                    <td>52,500 دينار</td>
                                    <td>10/04/2025</td>
                                    <td>27</td>
                                    <td>01/05/2025</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>محمد عبدالله</td>
                                    <td>10,000,000 دينار</td>
                                    <td>175,000 دينار</td>
                                    <td>15/04/2025</td>
                                    <td>22</td>
                                    <td>01/05/2025</td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-chart-line"></i>
                            تحليل الأرباح
                        </div>
                    </div>
                    <div class="chart-container">
                        <img src="https://via.placeholder.com/800x300" alt="رسم بياني للأرباح" style="width:100%; height:100%; object-fit:cover; border-radius: var(--radius-md);">
                    </div>
                    <div style="margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">
                        <div class="analytics-item">
                            <div class="analytics-value">288,750</div>
                            <div class="analytics-label">إجمالي الأرباح الشهرية</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value">3,465,000</div>
                            <div class="analytics-label">الأرباح السنوية المتوقعة</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value">9,450</div>
                            <div class="analytics-label">متوسط الربح اليومي</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value">+5.2%</div>
                            <div class="analytics-label">نمو الأرباح الشهري</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-history"></i>
                            سجل توزيع الأرباح
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>المستثمر</th>
                                    <th>المبلغ</th>
                                    <th>نوع العملية</th>
                                    <th>تاريخ التوزيع</th>
                                    <th>الحالة</th>
                                    <th>إجراءات</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>أحمد محمد</td>
                                    <td>17,500 دينار</td>
                                    <td><div class="status-pill status-profit">توزيع أرباح</div></td>
                                    <td>01/05/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>سارة علي</td>
                                    <td>43,750 دينار</td>
                                    <td><div class="status-pill status-profit">توزيع أرباح</div></td>
                                    <td>01/05/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>علي حسن</td>
                                    <td>52,500 دينار</td>
                                    <td><div class="status-pill status-profit">توزيع أرباح</div></td>
                                    <td>01/05/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>محمد عبدالله</td>
                                    <td>175,000 دينار</td>
                                    <td><div class="status-pill status-profit">توزيع أرباح</div></td>
                                    <td>01/05/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Operations Page -->
            <div class="page" id="operations">
                <div class="card card-gradient-border">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-exchange-alt"></i>
                            إدارة العمليات
                        </div>
                        <div>
                            <button class="btn btn-success btn-round" id="add-deposit-btn">
                                <i class="fas fa-plus"></i>
                                إيداع
                            </button>
                            <button class="btn btn-danger btn-round" id="add-withdrawal-btn">
                                <i class="fas fa-minus"></i>
                                سحب
                            </button>
                            <button class="btn btn-outline-primary btn-round">
                                <i class="fas fa-print"></i>
                                طباعة
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group input-icon-right">
                            <i class="fas fa-search input-icon"></i>
                            <input type="text" class="form-control" placeholder="بحث عن عملية..." id="operation-search">
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>المستثمر</th>
                                    <th>نوع العملية</th>
                                    <th>المبلغ</th>
                                    <th>تأثير الربح</th>
                                    <th>التاريخ</th>
                                    <th>الحالة</th>
                                    <th>إجراءات</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>أحمد محمد</td>
                                    <td><div class="status-pill status-deposit">إيداع</div></td>
                                    <td>1,000,000 دينار</td>
                                    <td>+17,500 دينار</td>
                                    <td>01/04/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>سارة علي</td>
                                    <td><div class="status-pill status-withdrawal">سحب</div></td>
                                    <td>500,000 دينار</td>
                                    <td>-8,750 دينار</td>
                                    <td>15/04/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>علي حسن</td>
                                    <td><div class="status-pill status-deposit">إيداع</div></td>
                                    <td>3,000,000 دينار</td>
                                    <td>+52,500 دينار</td>
                                    <td>10/04/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>محمد عبدالله</td>
                                    <td><div class="status-pill status-deposit">إيداع</div></td>
                                    <td>10,000,000 دينار</td>
                                    <td>+175,000 دينار</td>
                                    <td>15/04/2025</td>
                                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <div class="action-btn view-btn"><i class="fas fa-eye"></i></div>
                                            <div class="action-btn edit-btn"><i class="fas fa-edit"></i></div>
                                            <div class="action-btn delete-btn"><i class="fas fa-trash"></i></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-filter"></i>
                            تصفية العمليات
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label>نوع العملية</label>
                            <select class="form-control">
                                <option>الكل</option>
                                <option>إيداع</option>
                                <option>سحب</option>
                                <option>أرباح</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>المستثمر</label>
                            <select class="form-control">
                                <option>الكل</option>
                                <option>أحمد محمد</option>
                                <option>سارة علي</option>
                                <option>علي حسن</option>
                                <option>محمد عبدالله</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>من تاريخ</label>
                            <input type="date" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>إلى تاريخ</label>
                            <input type="date" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary">
                            <i class="fas fa-filter"></i>
                            تصفية
                        </button>
                        <button class="btn btn-outline-primary">
                            <i class="fas fa-redo"></i>
                            إعادة تعيين
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-chart-bar"></i>
                            إحصائيات العمليات
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div class="analytics-item">
                            <div class="analytics-value">12</div>
                            <div class="analytics-label">إجمالي الإيداعات</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value">5</div>
                            <div class="analytics-label">إجمالي السحوبات</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value">15</div>
                            <div class="analytics-label">توزيعات الأرباح</div>
                        </div>
                        <div class="analytics-item">
                            <div class="analytics-value">32</div>
                            <div class="analytics-label">إجمالي العمليات</div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <img src="https://via.placeholder.com/800x300" alt="رسم بياني للعمليات" style="width:100%; height:100%; object-fit:cover; border-radius: var(--radius-md);">
                    </div>
                </div>
            </div>

            <!-- Add Investor Modal -->
            <div class="modal-overlay" id="investor-modal-overlay">
                <div class="modal" id="investor-modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="modal-title">إضافة مستثمر جديد</div>
                            <span class="close-modal">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="investor-form">
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                                    <div class="form-group">
                                        <label>اسم المستثمر <span style="color: var(--danger-color);">*</span></label>
                                        <input type="text" class="form-control" id="investor-name" required>
                                    </div>
                                    <div class="form-group">
                                        <label>رقم الهاتف <span style="color: var(--danger-color);">*</span></label>
                                        <input type="text" class="form-control" id="investor-phone" required>
                                    </div>
                                    <div class="form-group">
                                        <label>العنوان</label>
                                        <input type="text" class="form-control" id="investor-address">
                                    </div>
                                    <div class="form-group">
                                        <label>رقم البطاقة الشخصية <span style="color: var(--danger-color);">*</span></label>
                                        <input type="text" class="form-control" id="investor-id-card" required>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                                    <div class="form-group">
                                        <label>البريد الإلكتروني</label>
                                        <input type="email" class="form-control" id="investor-email">
                                    </div>
                                    <div class="form-group">
                                        <label>المهنة</label>
                                        <input type="text" class="form-control" id="investor-job">
                                    </div>
                                    <div class="form-group">
                                        <label>المبلغ المستثمر <span style="color: var(--danger-color);">*</span></label>
                                        <input type="number" class="form-control" id="investor-amount" required>
                                    </div>
                                    <div class="form-group">
                                        <label>تاريخ الاستثمار <span style="color: var(--danger-color);">*</span></label>
                                        <input type="date" class="form-control" id="investor-date" required>
                                        <div class="input-message" id="investor-date-message"></div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>ملاحظات</label>
                                    <textarea class="form-control" id="investor-notes" rows="3"></textarea>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-primary" id="investor-modal-close">إلغاء</button>
                            <button type="submit" class="btn btn-primary" form="investor-form">حفظ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Operation Modal -->
            <div class="modal-overlay" id="operation-modal-overlay">
                <div class="modal" id="operation-modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="modal-title" id="operation-modal-title">إضافة عملية جديدة</div>
                            <span class="close-modal">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="operation-form">
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                                    <div class="form-group">
                                        <label>المستثمر <span style="color: var(--danger-color);">*</span></label>
                                        <select class="form-control" id="operation-investor" required>
                                            <option value="">اختر المستثمر</option>
                                            <option value="1">أحمد محمد</option>
                                            <option value="2">سارة علي</option>
                                            <option value="3">علي حسن</option>
                                            <option value="4">محمد عبدالله</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>نوع العملية <span style="color: var(--danger-color);">*</span></label>
                                        <select class="form-control" id="operation-type" required>
                                            <option value="deposit">إيداع</option>
                                            <option value="withdrawal">سحب</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>المبلغ <span style="color: var(--danger-color);">*</span></label>
                                        <input type="number" class="form-control" id="operation-amount" required>
                                    </div>
                                    <div class="form-group">
                                        <label>تاريخ العملية <span style="color: var(--danger-color);">*</span></label>
                                        <input type="date" class="form-control" id="operation-date" required>
                                        <div class="input-message" id="operation-date-message"></div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>تفاصيل العملية</label>
                                    <textarea class="form-control" id="operation-details" rows="3"></textarea>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-primary" id="operation-modal-close">إلغاء</button>
                            <button type="submit" class="btn btn-primary" form="operation-form">حفظ</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Initialize database and data
        let db = null;
        const DB_NAME = 'investment-system';
        const DB_VERSION = 1;
        
        // Initialize data
        const investorsData = [];
        const operationsData = [];
        
        // Application settings
        const settings = {
            interestRate: 1.75,
            currency: 'IQD',
            theme: 'light',
            primaryColor: 'purple',
            language: 'ar',
            timezone: 'Asia/Baghdad',
            dateFormat: 'dd/mm/yyyy',
            timeFormat: '12',
            sidebarMode: 'expanded',
            fontSize: 'medium',
            autoLogout: '0',
            twoFactor: 'disabled',
            userActivity: 'enabled',
            autoBackup: 'daily',
            profitDay: '1',
            proportionalProfits: 'enabled'
        };
        
        // DOM Elements
        const menuItems = document.querySelectorAll('.menu-item');
        const pages = document.querySelectorAll('.page');
        const pageTitle = document.querySelector('.page-title');
        
        // Add Investor Modal
        const investorModalOverlay = document.getElementById('investor-modal-overlay');
        const investorModal = document.getElementById('investor-modal');
        const addInvestorBtn = document.getElementById('add-investor-btn');
        const investorForm = document.getElementById('investor-form');
        const investorDateInput = document.getElementById('investor-date');
        const investorDateMessage = document.getElementById('investor-date-message');
        const investorModalClose = document.getElementById('investor-modal-close');
        
        // Add Operation Modal
        const operationModalOverlay = document.getElementById('operation-modal-overlay');
        const operationModal = document.getElementById('operation-modal');
        const addDepositBtn = document.getElementById('add-deposit-btn');
        const addWithdrawalBtn = document.getElementById('add-withdrawal-btn');
        const operationForm = document.getElementById('operation-form');
        const operationTypeSelect = document.getElementById('operation-type');
        const operationModalTitle = document.getElementById('operation-modal-title');
        const operationDateInput = document.getElementById('operation-date');
        const operationDateMessage = document.getElementById('operation-date-message');
        const operationModalClose = document.getElementById('operation-modal-close');
        
        // Close modal buttons
        const closeButtons = document.querySelectorAll('.close-modal');
        
        // Initialize Database
        function initDatabase() {
            const request = indexedDB.open(DB_NAME, DB_VERSION);
            
            request.onupgradeneeded = function(event) {
                const db = event.target.result;
                
                // Create Investors store
                if (!db.objectStoreNames.contains('investors')) {
                    const investorsStore = db.createObjectStore('investors', { keyPath: 'id', autoIncrement: true });
                    investorsStore.createIndex('name', 'name', { unique: false });
                    investorsStore.createIndex('phone', 'phone', { unique: false });
                    investorsStore.createIndex('idCard', 'idCard', { unique: true });
                }
                
                // Create Operations store
                if (!db.objectStoreNames.contains('operations')) {
                    const operationsStore = db.createObjectStore('operations', { keyPath: 'id', autoIncrement: true });
                    operationsStore.createIndex('investorId', 'investorId', { unique: false });
                    operationsStore.createIndex('date', 'date', { unique: false });
                    operationsStore.createIndex('type', 'type', { unique: false });
                }
                
                // Create Settings store
                if (!db.objectStoreNames.contains('settings')) {
                    const settingsStore = db.createObjectStore('settings', { keyPath: 'id' });
                }
                
                // Create Profits store
                if (!db.objectStoreNames.contains('profits')) {
                    const profitsStore = db.createObjectStore('profits', { keyPath: 'id', autoIncrement: true });
                    profitsStore.createIndex('investorId', 'investorId', { unique: false });
                    profitsStore.createIndex('date', 'date', { unique: false });
                }
                
                // Create Reports store
                if (!db.objectStoreNames.contains('reports')) {
                    const reportsStore = db.createObjectStore('reports', { keyPath: 'id', autoIncrement: true });
                    reportsStore.createIndex('type', 'type', { unique: false });
                    reportsStore.createIndex('date', 'date', { unique: false });
                }
                
                // Create Backups store
                if (!db.objectStoreNames.contains('backups')) {
                    const backupsStore = db.createObjectStore('backups', { keyPath: 'id', autoIncrement: true });
                    backupsStore.createIndex('date', 'date', { unique: false });
                    backupsStore.createIndex('type', 'type', { unique: false });
                }
                
                // Create Notifications store
                if (!db.objectStoreNames.contains('notifications')) {
                    const notificationsStore = db.createObjectStore('notifications', { keyPath: 'id', autoIncrement: true });
                    notificationsStore.createIndex('date', 'date', { unique: false });
                    notificationsStore.createIndex('read', 'read', { unique: false });
                }
                
                // Create Events store
                if (!db.objectStoreNames.contains('events')) {
                    const eventsStore = db.createObjectStore('events', { keyPath: 'id', autoIncrement: true });
                    eventsStore.createIndex('date', 'date', { unique: false });
                    eventsStore.createIndex('type', 'type', { unique: false });
                }
            };
            
            request.onsuccess = function(event) {
                db = event.target.result;
                console.log('Database initialized successfully');
                
                // Load settings from database
                loadSettings();
                
                // Load initial data
                loadInvestors();
                loadOperations();
            };
            
            request.onerror = function(event) {
                console.error('Database error:', event.target.error);
            };
        }
        
        // Load settings from database
        function loadSettings() {
            if (!db) return;
            
            const transaction = db.transaction(['settings'], 'readonly');
            const store = transaction.objectStore('settings');
            const request = store.get(1);
            
            request.onsuccess = function(event) {
                if (event.target.result) {
                    const storedSettings = event.target.result;
                    
                    // Update settings object with stored values
                    Object.keys(settings).forEach(key => {
                        if (storedSettings[key] !== undefined) {
                            settings[key] = storedSettings[key];
                        }
                    });
                    
                    // Update UI with settings
                    updateSettingsUI();
                } else {
                    // Save default settings if none exist
                    saveSettings();
                }
            };
            
            request.onerror = function(event) {
                console.error('Error loading settings:', event.target.error);
            };
        }
        
        // Update UI with current settings
        function updateSettingsUI() {
            // Update settings form fields
            if (document.getElementById('interest-rate')) {
                document.getElementById('interest-rate').value = settings.interestRate;
                document.getElementById('currency').value = settings.currency;
                document.getElementById('theme').value = settings.theme;
                document.getElementById('primary-color').value = settings.primaryColor;
                document.getElementById('language').value = settings.language;
                document.getElementById('timezone').value = settings.timezone;
                document.getElementById('date-format').value = settings.dateFormat;
                document.getElementById('time-format').value = settings.timeFormat;
                document.getElementById('sidebar-mode').value = settings.sidebarMode;
                document.getElementById('font-size').value = settings.fontSize;
                document.getElementById('auto-logout').value = settings.autoLogout;
                document.getElementById('two-factor').value = settings.twoFactor;
                document.getElementById('user-activity').value = settings.userActivity;
                document.getElementById('auto-backup').value = settings.autoBackup;
                document.getElementById('profit-day').value = settings.profitDay;
                document.getElementById('proportional-profits').value = settings.proportionalProfits;
            }
            
            // Apply theme settings
            applyThemeSettings();
        }
        
        // Apply theme settings to the UI
        function applyThemeSettings() {
            // Apply theme (light/dark)
            document.body.classList.remove('theme-light', 'theme-dark');
            document.body.classList.add(`theme-${settings.theme}`);
            
            // Apply primary color
            document.documentElement.style.setProperty('--primary-color', getPrimaryColor());
            document.documentElement.style.setProperty('--primary-light', getPrimaryLightColor());
            document.documentElement.style.setProperty('--primary-dark', getPrimaryDarkColor());
            
            // Apply font size
            document.body.classList.remove('font-small', 'font-medium', 'font-large');
            document.body.classList.add(`font-${settings.fontSize}`);
            
            // Apply sidebar mode
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.remove('expanded', 'collapsed');
            if (settings.sidebarMode !== 'auto') {
                sidebar.classList.add(settings.sidebarMode);
            }
        }
        
        // Get primary color based on settings
        function getPrimaryColor() {
            const colors = {
                purple: '#7267EF',
                blue: '#4361ee',
                green: '#2ECC71',
                red: '#e74c3c',
                orange: '#ff9800',
                teal: '#00cec9'
            };
            
            return colors[settings.primaryColor] || colors.purple;
        }
        
        // Get primary light color
        function getPrimaryLightColor() {
            const colors = {
                purple: '#9D96F5',
                blue: '#6E8EFF',
                green: '#6deca9',
                red: '#ff8f8f',
                orange: '#ffb74d',
                teal: '#67e8e3'
            };
            
            return colors[settings.primaryColor] || colors.purple;
        }
        
        // Get primary dark color
        function getPrimaryDarkColor() {
            const colors = {
                purple: '#5549DD',
                blue: '#2c4cdf',
                green: '#27ae60',
                red: '#c0392b',
                orange: '#f57c00',
                teal: '#00a8a3'
            };
            
            return colors[settings.primaryColor] || colors.purple;
        }
        
        // Save settings to database
        function saveSettings() {
            if (!db) return;
            
            // Update settings object from form fields
            if (document.getElementById('interest-rate')) {
                settings.interestRate = parseFloat(document.getElementById('interest-rate').value);
                settings.currency = document.getElementById('currency').value;
                settings.theme = document.getElementById('theme').value;
                settings.primaryColor = document.getElementById('primary-color').value;
                settings.language = document.getElementById('language').value;
                settings.timezone = document.getElementById('timezone').value;
                settings.dateFormat = document.getElementById('date-format').value;
                settings.timeFormat = document.getElementById('time-format').value;
                settings.sidebarMode = document.getElementById('sidebar-mode').value;
                settings.fontSize = document.getElementById('font-size').value;
                settings.autoLogout = document.getElementById('auto-logout').value;
                settings.twoFactor = document.getElementById('two-factor').value;
                settings.userActivity = document.getElementById('user-activity').value;
                settings.autoBackup = document.getElementById('auto-backup').value;
                settings.profitDay = document.getElementById('profit-day').value;
                settings.proportionalProfits = document.getElementById('proportional-profits').value;
            }
            
            const transaction = db.transaction(['settings'], 'readwrite');
            const store = transaction.objectStore('settings');
            
            store.put({
                id: 1,
                ...settings
            });
            
            transaction.oncomplete = function() {
                console.log('Settings saved successfully');
                
                // Apply theme settings
                applyThemeSettings();
                
                // Update UI
                updateProfitsTable();
                updateOperationsTable();
                updateDashboardStats();
                
                // Show success message
                showAlert('تم حفظ الإعدادات بنجاح', 'success');
            };
            
            transaction.onerror = function(event) {
                console.error('Error saving settings:', event.target.error);
                showAlert('حدث خطأ أثناء حفظ الإعدادات', 'danger');
            };
        }
        
        // Load investors from database
        function loadInvestors() {
            if (!db) return;
            
            const transaction = db.transaction(['investors'], 'readonly');
            const store = transaction.objectStore('investors');
            const request = store.getAll();
            
            request.onsuccess = function(event) {
                const investors = event.target.result;
                
                // Update investors data array
                investorsData.length = 0;
                investors.forEach(investor => {
                    investorsData.push(investor);
                });
                
                // Update investors table
                updateInvestorsTable();
                
                // Update operation investor dropdown
                updateInvestorDropdown();
                
                // Update dashboard statistics
                updateDashboardStats();
            };
            
            request.onerror = function(event) {
                console.error('Error loading investors:', event.target.error);
            };
        }
        
        // Load operations from database
        function loadOperations() {
            if (!db) return;
            
            const transaction = db.transaction(['operations'], 'readonly');
            const store = transaction.objectStore('operations');
            const request = store.getAll();
            
            request.onsuccess = function(event) {
                const operations = event.target.result;
                
                // Update operations data array
                operationsData.length = 0;
                operations.forEach(operation => {
                    operationsData.push(operation);
                });
                
                // Update operations table
                updateOperationsTable();
                
                // Update profits table
                updateProfitsTable();
                
                // Update dashboard statistics
                updateDashboardStats();
            };
            
            request.onerror = function(event) {
                console.error('Error loading operations:', event.target.error);
            };
        }
        
        // Add investor to database
        function addInvestor(investor) {
            if (!db) return;
            
            const transaction = db.transaction(['investors'], 'readwrite');
            const store = transaction.objectStore('investors');
            
            // Check if ID card already exists
            const index = store.index('idCard');
            const idCardRequest = index.get(investor.idCard);
            
            idCardRequest.onsuccess = function(event) {
                if (event.target.result) {
                    showAlert('رقم البطاقة الشخصية مستخدم بالفعل', 'danger');
                    return;
                }
                
                // Add investor if ID card is unique
                const request = store.add(investor);
                
                request.onsuccess = function(event) {
                    console.log('Investor added successfully with ID:', event.target.result);
                    
                    // Add initial deposit operation
                    if (investor.amount > 0) {
                        const depositOperation = {
                            investorId: event.target.result,
                            type: 'deposit',
                            amount: investor.amount,
                            date: investor.date,
                            profit: calculateProfit(investor.amount),
                            details: 'إيداع أولي'
                        };
                        
                        addOperation(depositOperation);
                    }
                    
                    // Reload investors
                    loadInvestors();
                    
                    // Show success message
                    showAlert('تم إضافة المستثمر بنجاح', 'success');
                };
                
                request.onerror = function(event) {
                    console.error('Error adding investor:', event.target.error);
                    showAlert('حدث خطأ أثناء إضافة المستثمر', 'danger');
                };
            };
        }
        
        // Add operation to database
        function addOperation(operation) {
            if (!db) return;
            
            const transaction = db.transaction(['operations'], 'readwrite');
            const store = transaction.objectStore('operations');
            
            // Validate withdrawal amount
            if (operation.type === 'withdrawal') {
                const totalInvestment = calculateTotalInvestment(operation.investorId);
                if (operation.amount > totalInvestment) {
                    showAlert('مبلغ السحب أكبر من المبلغ المستثمر الحالي', 'danger');
                    return;
                }
            }
            
            const request = store.add(operation);
            
            request.onsuccess = function(event) {
                console.log('Operation added successfully with ID:', event.target.result);
                
                // Add notification
                addNotification({
                    title: operation.type === 'deposit' ? 'إيداع جديد' : 'سحب جديد',
                    message: `تم ${operation.type === 'deposit' ? 'إيداع' : 'سحب'} مبلغ ${formatCurrency(operation.amount)} ${operation.type === 'deposit' ? 'إلى' : 'من'} المستثمر ${getInvestorById(operation.investorId)?.name}`,
                    type: operation.type === 'deposit' ? 'success' : 'danger',
                    date: new Date().toISOString(),
                    read: false
                });
                
                // Reload operations
                loadOperations();
                
                // Show success message
                showAlert('تم إضافة العملية بنجاح', 'success');
            };
            
            request.onerror = function(event) {
                console.error('Error adding operation:', event.target.error);
                showAlert('حدث خطأ أثناء إضافة العملية', 'danger');
            };
        }
        
        // Add notification
        function addNotification(notification) {
            if (!db) return;
            
            const transaction = db.transaction(['notifications'], 'readwrite');
            const store = transaction.objectStore('notifications');
            
            const request = store.add(notification);
            
            request.onsuccess = function(event) {
                console.log('Notification added successfully with ID:', event.target.result);
            };
            
            request.onerror = function(event) {
                console.error('Error adding notification:', event.target.error);
            };
        }
        
        // Update investors table
        function updateInvestorsTable() {
            const tableBody = document.getElementById('investors-table-body');
            if (!tableBody) return;
            
            tableBody.innerHTML = '';
            
            investorsData.forEach(investor => {
                const totalInvestment = calculateTotalInvestment(investor.id);
                const monthlyProfit = calculateMonthlyProfit(investor.id);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${investor.name}</td>
                    <td>${investor.phone}</td>
                    <td>${investor.address || '-'}</td>
                    <td>${investor.idCard}</td>
                    <td>${formatCurrency(totalInvestment)}</td>
                    <td>${formatCurrency(monthlyProfit)}</td>
                    <td>
                        <div class="action-buttons">
                            <div class="action-btn view-btn" data-id="${investor.id}"><i class="fas fa-eye"></i></div>
                            <div class="action-btn edit-btn" data-id="${investor.id}"><i class="fas fa-edit"></i></div>
                            <div class="action-btn delete-btn" data-id="${investor.id}"><i class="fas fa-trash"></i></div>
                        </div>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            addActionButtonListeners();
        }
        
        // Update operations table
        function updateOperationsTable() {
            const operationsTable = document.querySelector('#operations table tbody');
            if (!operationsTable) return;
            
            operationsTable.innerHTML = '';
            
            operationsData.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(operation => {
                const investor = getInvestorById(operation.investorId);
                if (!investor) return;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${investor.name}</td>
                    <td><div class="status-pill ${operation.type === 'deposit' ? 'status-deposit' : 'status-withdrawal'}">${operation.type === 'deposit' ? 'إيداع' : 'سحب'}</div></td>
                    <td>${formatCurrency(operation.amount)}</td>
                    <td>${operation.type === 'deposit' ? '+' : '-'}${formatCurrency(operation.profit)}</td>
                    <td>${formatDate(operation.date)}</td>
                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                    <td>
                        <div class="action-buttons">
                            <div class="action-btn view-btn" data-id="${operation.id}"><i class="fas fa-eye"></i></div>
                            <div class="action-btn edit-btn" data-id="${operation.id}"><i class="fas fa-edit"></i></div>
                            <div class="action-btn delete-btn" data-id="${operation.id}"><i class="fas fa-trash"></i></div>
                        </div>
                    </td>
                `;
                
                operationsTable.appendChild(row);
            });
            
            // Update dashboard operations table
            const dashboardTable = document.querySelector('#dashboard table tbody');
            if (!dashboardTable) return;
            
            dashboardTable.innerHTML = '';
            
            const recentOperations = [...operationsData].sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 4);
            
            recentOperations.forEach(operation => {
                const investor = getInvestorById(operation.investorId);
                if (!investor) return;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${investor.name}</td>
                    <td><div class="status-pill ${operation.type === 'deposit' ? 'status-deposit' : operation.type === 'withdrawal' ? 'status-withdrawal' : 'status-profit'}">${operation.type === 'deposit' ? 'إيداع' : operation.type === 'withdrawal' ? 'سحب' : 'أرباح'}</div></td>
                    <td>${formatCurrency(operation.amount)}</td>
                    <td>${formatDate(operation.date)}</td>
                    <td><div class="status-pill status-deposit">مكتمل</div></td>
                    <td>
                        <div class="action-buttons">
                            <div class="action-btn view-btn" data-id="${operation.id}"><i class="fas fa-eye"></i></div>
                            <div class="action-btn edit-btn" data-id="${operation.id}"><i class="fas fa-edit"></i></div>
                            <div class="action-btn delete-btn" data-id="${operation.id}"><i class="fas fa-trash"></i></div>
                        </div>
                    </td>
                `;
                
                dashboardTable.appendChild(row);
            });
            
            // Add event listeners to action buttons
            addActionButtonListeners();
        }
        
        // Update profits table
        function updateProfitsTable() {
            const profitsTable = document.querySelector('#profits table tbody');
            if (!profitsTable) return;
            
            profitsTable.innerHTML = '';
            
            // Group operations by investor
            const investorOperations = {};
            
            operationsData.forEach(operation => {
                if (!investorOperations[operation.investorId]) {
                    investorOperations[operation.investorId] = [];
                }
                
                investorOperations[operation.investorId].push(operation);
            });
            
            // Calculate profits for each investor
            Object.keys(investorOperations).forEach(investorId => {
                const investor = getInvestorById(parseInt(investorId));
                if (!investor) return;
                
                const operations = investorOperations[investorId];
                const totalInvestment = calculateTotalInvestment(parseInt(investorId));
                const monthlyProfit = calculateMonthlyProfit(parseInt(investorId));
                
                if (totalInvestment <= 0) return;
                
                // Get the earliest deposit date
                const deposits = operations.filter(op => op.type === 'deposit');
                if (deposits.length === 0) return;
                
                const earliestDeposit = deposits.reduce((earliest, deposit) => {
                    return new Date(deposit.date) < new Date(earliest.date) ? deposit : earliest;
                }, deposits[0]);
                
                const daysActive = calculateDaysActive(earliestDeposit.date);
                
                // Find last profit distribution
                const lastProfit = operations.filter(op => op.type === 'profit').sort((a, b) => new Date(b.date) - new Date(a.date))[0];
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${investor.name}</td>
                    <td>${formatCurrency(totalInvestment)}</td>
                    <td>${formatCurrency(monthlyProfit)}</td>
                    <td>${formatDate(earliestDeposit.date)}</td>
                    <td>${daysActive}</td>
                    <td>${lastProfit ? formatDate(lastProfit.date) : '-'}</td>
                    <td>
                        <div class="action-buttons">
                            <div class="action-btn view-btn" data-id="${investor.id}"><i class="fas fa-eye"></i></div>
                            <div class="action-btn edit-btn" data-id="${investor.id}"><i class="fas fa-edit"></i></div>
                            <div class="action-btn delete-btn" data-id="${investor.id}"><i class="fas fa-trash"></i></div>
                        </div>
                    </td>
                `;
                
                profitsTable.appendChild(row);
            });
            
            // Add event listeners to action buttons
            addActionButtonListeners();
        }
        
        // Add event listeners to action buttons
        function addActionButtonListeners() {
            // View buttons
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    viewItem(id, this.closest('tr').parentElement.closest('table').closest('.card').closest('.page').id);
                });
            });
            
            // Edit buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    editItem(id, this.closest('tr').parentElement.closest('table').closest('.card').closest('.page').id);
                });
            });
            
            // Delete buttons
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteItem(id, this.closest('tr').parentElement.closest('table').closest('.card').closest('.page').id);
                });
            });
        }
        
        // View item
        function viewItem(id, pageId) {
            if (pageId === 'investors' || pageId === 'profits') {
                const investor = getInvestorById(id);
                if (!investor) return;
                
                alert(`عرض تفاصيل المستثمر: ${investor.name}`);
                // Implement detailed view modal
            } else if (pageId === 'operations') {
                const operation = getOperationById(id);
                if (!operation) return;
                
                const investor = getInvestorById(operation.investorId);
                if (!investor) return;
                
                alert(`عرض تفاصيل العملية: ${operation.type === 'deposit' ? 'إيداع' : 'سحب'} - ${investor.name}`);
                // Implement detailed view modal
            }
        }
        
        // Edit item
        function editItem(id, pageId) {
            if (pageId === 'investors' || pageId === 'profits') {
                const investor = getInvestorById(id);
                if (!investor) return;
                
                alert(`تعديل المستثمر: ${investor.name}`);
                // Implement edit investor modal
            } else if (pageId === 'operations') {
                const operation = getOperationById(id);
                if (!operation) return;
                
                const investor = getInvestorById(operation.investorId);
                if (!investor) return;
                
                alert(`تعديل العملية: ${operation.type === 'deposit' ? 'إيداع' : 'سحب'} - ${investor.name}`);
                // Implement edit operation modal
            }
        }
        
        // Delete item
        function deleteItem(id, pageId) {
            if (pageId === 'investors' || pageId === 'profits') {
                const investor = getInvestorById(id);
                if (!investor) return;
                
                if (confirm(`هل أنت متأكد من حذف المستثمر: ${investor.name}؟`)) {
                    deleteInvestor(id);
                }
            } else if (pageId === 'operations') {
                const operation = getOperationById(id);
                if (!operation) return;
                
                const investor = getInvestorById(operation.investorId);
                if (!investor) return;
                
                if (confirm(`هل أنت متأكد من حذف العملية: ${operation.type === 'deposit' ? 'إيداع' : 'سحب'} - ${investor.name}؟`)) {
                    deleteOperation(id);
                }
            }
        }
        
        // Delete investor
        function deleteInvestor(id) {
            if (!db) return;
            
            const transaction = db.transaction(['investors', 'operations'], 'readwrite');
            const investorsStore = transaction.objectStore('investors');
            const operationsStore = transaction.objectStore('operations');
            
            // Delete investor
            investorsStore.delete(id);
            
            // Delete all operations for this investor
            const operationsIndex = operationsStore.index('investorId');
            const operationsRequest = operationsIndex.openCursor(IDBKeyRange.only(id));
            
            operationsRequest.onsuccess = function(event) {
                const cursor = event.target.result;
                if (cursor) {
                    operationsStore.delete(cursor.primaryKey);
                    cursor.continue();
                }
            };
            
            transaction.oncomplete = function() {
                console.log('Investor and related operations deleted successfully');
                
                // Reload data
                loadInvestors();
                loadOperations();
                
                // Show success message
                showAlert('تم حذف المستثمر والعمليات المرتبطة به بنجاح', 'success');
            };
            
            transaction.onerror = function(event) {
                console.error('Error deleting investor:', event.target.error);
                showAlert('حدث خطأ أثناء حذف المستثمر', 'danger');
            };
        }
        
        // Delete operation
        function deleteOperation(id) {
            if (!db) return;
            
            const transaction = db.transaction(['operations'], 'readwrite');
            const store = transaction.objectStore('operations');
            
            store.delete(id);
            
            transaction.oncomplete = function() {
                console.log('Operation deleted successfully');
                
                // Reload operations
                loadOperations();
                
                // Show success message
                showAlert('تم حذف العملية بنجاح', 'success');
            };
            
            transaction.onerror = function(event) {
                console.error('Error deleting operation:', event.target.error);
                showAlert('حدث خطأ أثناء حذف العملية', 'danger');
            };
        }
        
        // Update investor dropdown in operations form
        function updateInvestorDropdown() {
            const dropdown = document.getElementById('operation-investor');
            if (!dropdown) return;
            
            dropdown.innerHTML = '<option value="">اختر المستثمر</option>';
            
            investorsData.forEach(investor => {
                const option = document.createElement('option');
                option.value = investor.id;
                option.textContent = investor.name;
                dropdown.appendChild(option);
            });
        }
        
        // Update dashboard statistics
        function updateDashboardStats() {
            const statsElements = document.querySelectorAll('.dashboard-stats .stat-value');
            if (statsElements.length === 0) return;
            
            // Total investors
            statsElements[0].textContent = investorsData.length;
            
            // Total investments
            let totalInvestments = 0;
            investorsData.forEach(investor => {
                totalInvestments += calculateTotalInvestment(investor.id);
            });
            statsElements[1].textContent = formatCurrency(totalInvestments, false);
            
            // Monthly profits
            let totalMonthlyProfits = 0;
            investorsData.forEach(investor => {
                totalMonthlyProfits += calculateMonthlyProfit(investor.id);
            });
            statsElements[2].textContent = formatCurrency(totalMonthlyProfits, false);
            
            // Monthly operations
            const now = new Date();
            const firstDayOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);
            const lastDayOfMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0);
            
            const monthlyOperations = operationsData.filter(operation => {
                const operationDate = new Date(operation.date);
                return operationDate >= firstDayOfMonth && operationDate <= lastDayOfMonth;
            });
            
            statsElements[3].textContent = monthlyOperations.length;
        }
        
        // Helper Functions
        
        // Get investor by ID
        function getInvestorById(id) {
            return investorsData.find(investor => investor.id === id);
        }
        
        // Get operation by ID
        function getOperationById(id) {
            return operationsData.find(operation => operation.id === id);
        }
        
        // Calculate total investment for an investor
        function calculateTotalInvestment(investorId) {
            const investorOperations = operationsData.filter(operation => operation.investorId === investorId);
            
            let total = 0;
            investorOperations.forEach(operation => {
                if (operation.type === 'deposit') {
                    total += operation.amount;
                } else if (operation.type === 'withdrawal') {
                    total -= operation.amount;
                }
            });
            
            return total;
        }
        
        // Calculate monthly profit for an investor
        function calculateMonthlyProfit(investorId) {
            const totalInvestment = calculateTotalInvestment(investorId);
            return calculateProfit(totalInvestment);
        }
        
        // Calculate profit for an amount
        function calculateProfit(amount) {
            return amount * (settings.interestRate / 100);
        }
        
        // Calculate days active since investment date
        function calculateDaysActive(dateString) {
            const investmentDate = new Date(dateString);
            const currentDate = new Date();
            
            const differenceInTime = currentDate - investmentDate;
            return Math.floor(differenceInTime / (1000 * 3600 * 24));
        }
        
        // Format currency
        function formatCurrency(amount, includeCurrency = true) {
            return amount.toLocaleString() + (includeCurrency ? ` ${settings.currency}` : '');
        }
        
        // Format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            
            if (settings.dateFormat === 'dd/mm/yyyy') {
                return `${String(date.getDate()).padStart(2, '0')}/${String(date.getMonth() + 1).padStart(2, '0')}/${date.getFullYear()}`;
            } else if (settings.dateFormat === 'mm/dd/yyyy') {
                return `${String(date.getMonth() + 1).padStart(2, '0')}/${String(date.getDate()).padStart(2, '0')}/${date.getFullYear()}`;
            } else if (settings.dateFormat === 'yyyy-mm-dd') {
                return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
            }
            
            return date.toLocaleDateString('ar-IQ');
        }
        
        // Validate investment date
        function validateInvestmentDate(dateString) {
            const selectedDate = new Date(dateString);
            const currentDate = new Date();
            
            // Cannot be in the future
            if (selectedDate > currentDate) {
                return {
                    valid: false,
                    message: 'لا يمكن اختيار تاريخ في المستقبل'
                };
            }
            
            // Calculate days difference
            const daysDifference = calculateDaysDifference(selectedDate, currentDate);
            
            return {
                valid: true,
                message: `عدد الأيام منذ الاستثمار: ${daysDifference} يوم`,
                days: daysDifference
            };
        }
        
        // Calculate days difference between dates
        function calculateDaysDifference(date1, date2) {
            const firstDate = new Date(date1);
            const secondDate = new Date(date2);
            
            const differenceInTime = secondDate - firstDate;
            return Math.floor(differenceInTime / (1000 * 3600 * 24));
        }
        
        // Show alert message
        function showAlert(message, type = 'info') {
            // Create alert element
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'danger' ? 'exclamation-circle' : 'info-circle'}"></i>
                ${message}
            `;
            
            // Append to body
            document.body.appendChild(alert);
            
            // Position alert
            alert.style.position = 'fixed';
            alert.style.top = '20px';
            alert.style.left = '50%';
            alert.style.transform = 'translateX(-50%)';
            alert.style.zIndex = '9999';
            alert.style.minWidth = '300px';
            alert.style.textAlign = 'center';
            alert.style.boxShadow = 'var(--shadow-lg)';
            
            // Remove after 3 seconds
            setTimeout(() => {
                alert.style.opacity = '0';
                alert.style.transition = 'opacity 0.5s ease';
                setTimeout(() => {
                    document.body.removeChild(alert);
                }, 500);
            }, 3000);
        }
        
        // Event Listeners
        
        // Page navigation
        menuItems.forEach(item => {
            item.addEventListener('click', function() {
                const pageId = this.getAttribute('data-page');
                
                // Handle logout button
                if (this.id === 'logout-btn') {
                    // Show confirmation before logout
                    if (confirm('هل أنت متأكد من تسجيل الخروج؟')) {
                        // Redirect to login page or perform logout
                        alert('تم تسجيل الخروج بنجاح');
                        // window.location.href = 'login.html'; // Uncomment for actual implementation
                    }
                    return;
                }
                
                // Update active menu item
                menuItems.forEach(menuItem => {
                    menuItem.classList.remove('active');
                });
                this.classList.add('active');
                
                // Update active page
                pages.forEach(page => {
                    page.classList.remove('active');
                });
                document.getElementById(pageId).classList.add('active');
                
                // Update page title
                const menuSpan = this.querySelector('span');
                const menuIcon = this.querySelector('i');
                pageTitle.innerHTML = `<i class="${menuIcon.className}" style="color: var(--primary-color);"></i> ${menuSpan.textContent}`;
            });
        });
        
        // Open Add Investor Modal
        if (addInvestorBtn) {
            addInvestorBtn.addEventListener('click', function() {
                investorForm.reset();
                investorDateMessage.textContent = '';
                investorModalOverlay.style.display = 'block';
                investorModal.style.display = 'block';
                
                // Set default date to today
                const today = new Date();
                const formattedDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
                investorDateInput.value = formattedDate;
                
                // Validate default date
                const validation = validateInvestmentDate(formattedDate);
                investorDateMessage.textContent = validation.message;
                investorDateMessage.style.color = 'green';
            });
        }
        
        // Open Add Deposit Modal
        if (addDepositBtn) {
            addDepositBtn.addEventListener('click', function() {
                operationForm.reset();
                operationTypeSelect.value = 'deposit';
                operationModalTitle.textContent = 'إضافة إيداع جديد';
                operationDateMessage.textContent = '';
                operationModalOverlay.style.display = 'block';
                operationModal.style.display = 'block';
                
                // Set default date to today
                const today = new Date();
                const formattedDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
                operationDateInput.value = formattedDate;
                
                // Validate default date
                const validation = validateInvestmentDate(formattedDate);
                operationDateMessage.textContent = validation.message;
                operationDateMessage.style.color = 'green';
            });
        }
        
        // Open Add Withdrawal Modal
        if (addWithdrawalBtn) {
            addWithdrawalBtn.addEventListener('click', function() {
                operationForm.reset();
                operationTypeSelect.value = 'withdrawal';
                operationModalTitle.textContent = 'إضافة سحب جديد';
                operationDateMessage.textContent = '';
                operationModalOverlay.style.display = 'block';
                operationModal.style.display = 'block';
                
                // Set default date to today
                const today = new Date();
                const formattedDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
                operationDateInput.value = formattedDate;
                
                // Validate default date
                const validation = validateInvestmentDate(formattedDate);
                operationDateMessage.textContent = validation.message;
                operationDateMessage.style.color = 'green';
            });
        }
        
        // Close modals
        closeButtons.forEach(button => {
            button.addEventListener('click', function() {
                investorModalOverlay.style.display = 'none';
                operationModalOverlay.style.display = 'none';
            });
        });
        
        // Close investor modal with button
        if (investorModalClose) {
            investorModalClose.addEventListener('click', function() {
                investorModalOverlay.style.display = 'none';
            });
        }
        
        // Close operation modal with button
        if (operationModalClose) {
            operationModalClose.addEventListener('click', function() {
                operationModalOverlay.style.display = 'none';
            });
        }
        
        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target === investorModalOverlay) {
                investorModalOverlay.style.display = 'none';
            }
            if (event.target === operationModalOverlay) {
                operationModalOverlay.style.display = 'none';
            }
        });
        
        // Validate investment date on change
        if (investorDateInput) {
            investorDateInput.addEventListener('change', function() {
                const validation = validateInvestmentDate(this.value);
                investorDateMessage.textContent = validation.message;
                investorDateMessage.style.color = validation.valid ? 'green' : 'red';
            });
        }
        
        // Validate operation date on change
        if (operationDateInput) {
            operationDateInput.addEventListener('change', function() {
                const validation = validateInvestmentDate(this.value);
                operationDateMessage.textContent = validation.message;
                operationDateMessage.style.color = validation.valid ? 'green' : 'red';
            });
        }
        
        // Submit investor form
        if (investorForm) {
            investorForm.addEventListener('submit', function(event) {
                event.preventDefault();
                
                const name = document.getElementById('investor-name').value;
                const phone = document.getElementById('investor-phone').value;
                const address = document.getElementById('investor-address').value;
                const idCard = document.getElementById('investor-id-card').value;
                const email = document.getElementById('investor-email').value;
                const job = document.getElementById('investor-job').value;
                const amount = parseFloat(document.getElementById('investor-amount').value);
                const date = document.getElementById('investor-date').value;
                const notes = document.getElementById('investor-notes').value;
                
                // Validate date
                const dateValidation = validateInvestmentDate(date);
                if (!dateValidation.valid) {
                    showAlert(dateValidation.message, 'danger');
                    return;
                }
                
                // Create investor object
                const investor = {
                    name,
                    phone,
                    address,
                    idCard,
                    email,
                    job,
                    amount,
                    date,
                    notes,
                    createdAt: new Date().toISOString()
                };
                
                // Add to database
                addInvestor(investor);
                
                // Close modal
                investorModalOverlay.style.display = 'none';
            });
        }
        
        // Submit operation form
        if (operationForm) {
            operationForm.addEventListener('submit', function(event) {
                event.preventDefault();
                
                const investorId = parseInt(document.getElementById('operation-investor').value);
                const type = document.getElementById('operation-type').value;
                const amount = parseFloat(document.getElementById('operation-amount').value);
                const date = document.getElementById('operation-date').value;
                const details = document.getElementById('operation-details').value;
                
                // Validate investor
                if (!investorId) {
                    showAlert('يرجى اختيار المستثمر', 'danger');
                    return;
                }
                
                // Validate date
                const dateValidation = validateInvestmentDate(date);
                if (!dateValidation.valid) {
                    showAlert(dateValidation.message, 'danger');
                    return;
                }
                
                // Validate withdrawal amount
                if (type === 'withdrawal') {
                    const totalInvestment = calculateTotalInvestment(investorId);
                    if (amount > totalInvestment) {
                        showAlert('مبلغ السحب أكبر من المبلغ المستثمر الحالي', 'danger');
                        return;
                    }
                }
                
                // Create operation object
                const operation = {
                    investorId,
                    type,
                    amount,
                    date,
                    details,
                    profit: calculateProfit(amount),
                    createdAt: new Date().toISOString()
                };
                
                // Add to database
                addOperation(operation);
                
                // Close modal
                operationModalOverlay.style.display = 'none';
            });
        }
        
        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize database
            initDatabase();
            
            // Set current date in calendar
            const today = new Date();
            const calendarTitle = document.querySelector('.calendar-title');
            if (calendarTitle) {
                calendarTitle.textContent = `${getMonthName(today.getMonth())} ${today.getFullYear()}`;
            }
            
            // Mark today in calendar
            const todayElement = document.querySelector('.calendar-day.today');
            if (todayElement) {
                todayElement.innerHTML = `${today.getDate()}<div style="font-size: 10px;">اليوم</div>`;
            }
            
            // Add event listeners to action buttons
            addActionButtonListeners();
        });
        
        // Get month name in Arabic
        function getMonthName(month) {
            const monthNames = [
                'يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو',
                'يوليو', 'أغسطس', 'سبتمبر', 'أكتوبر', 'نوفمبر', 'ديسمبر'
            ];
            return monthNames[month];
        }


        
    </script>
    
</body>
</html>